<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="3" skipped="0" tests="17" time="57.688" timestamp="2026-01-27T03:23:08.963291+00:00" hostname="agent-env-db27ae8a-5d30-49be-a8f7-55a94d6cc4b2"><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_get_giustificativi_list" time="1.947" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_get_giustificativi_dipendente" time="0.601" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_get_giustificativi_dipendente_not_found" time="0.297" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_get_presenze_mensili" time="0.154" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_get_saldo_ferie" time="7.387" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_valida_giustificativo" time="0.801" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestGiustificativiEndpoints" name="test_alert_limiti" time="12.004" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestXBRLEndpoints" name="test_xbrl_status" time="0.060" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestXBRLEndpoints" name="test_xbrl_storico_richieste" time="0.184" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestXBRLEndpoints" name="test_xbrl_richiedi_bilancio_validation" time="2.184"><failure message="AssertionError: Unexpected status 401: {&quot;error&quot;:&quot;HTTPException&quot;,&quot;message&quot;:&quot;Errore richiesta bilancio: {'success': False, 'message': 'Wrong Token', 'error': 125.22, 'data': None}&quot;}&#10;assert 401 in [200, 201, 202, 400, 422, 500]&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_giustificativi_xbrl_ai.py:196: in test_xbrl_richiedi_bilancio_validation
    assert response.status_code in [200, 201, 202, 400, 422, 500], \
E   AssertionError: Unexpected status 401: {"error":"HTTPException","message":"Errore richiesta bilancio: {'success': False, 'message': 'Wrong Token', 'error': 125.22, 'data': None}"}
E   assert 401 in [200, 201, 202, 400, 422, 500]
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_giustificativi_xbrl_ai.TestAIParserEndpoints" name="test_ai_parser_status" time="0.040"><failure message="AssertionError: Expected 200, got 404: {&quot;error&quot;:&quot;HTTPException&quot;,&quot;message&quot;:&quot;Not Found&quot;}&#10;assert 404 == 200&#10; +  where 404 = &lt;Response [404]&gt;.status_code">backend/tests/test_giustificativi_xbrl_ai.py:207: in test_ai_parser_status
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 404: {"error":"HTTPException","message":"Not Found"}
E   assert 404 == 200
E    +  where 404 = &lt;Response [404]&gt;.status_code</failure></testcase><testcase classname="tests.test_giustificativi_xbrl_ai.TestAIParserEndpoints" name="test_ai_parser_statistiche" time="0.706" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestAIParserEndpoints" name="test_process_email_batch" time="13.505"><failure message="AssertionError: assert 0 == True&#10; +  where 0 = &lt;built-in method get of dict object at 0xfee3ad980e00&gt;('success')&#10; +    where &lt;built-in method get of dict object at 0xfee3ad980e00&gt; = {'by_type': {}, 'errors': [{'document_id': '6e170046-46d9-4786-9ccd-f39d90c5d0c6', 'error': 'Tipo documento non supportato: altro', 'filename': 'RicevutaTelematica_302000600008017300.pdf'}, {'document_id': '82010adc-ad83-4644-8655-a6850e156784', 'error': 'Tipo documento non supportato: altro', 'filename': 'RicevutaTelematica_302000600008017401.pdf'}, {'document_id': '1ec9c716-4849-48d1-9ca1-b6a9fa0ded84', 'error': 'Tipo documento non supportato: altro', 'filename': 'SAV2_260124_062039_7273.pdf'}, {'document_id': 'b1e9c0d4-ee06-4032-ac2d-7bfc5475edb9', 'error': 'Tipo documento non supportato: altro', 'filename': 'SAV2_260126_061128_3443.pdf'}, {'document_id': 'b7323319-609a-41ec-961a-9fa0e838d74c', 'error': 'Tipo documento non supportato: altro', 'filename': 'SAV2_260126_063527_5201.pdf'}], 'failed': 5, 'message': 'Processati 5 documenti', ...}.get">backend/tests/test_giustificativi_xbrl_ai.py:235: in test_process_email_batch
    assert data.get("success") == True
E   AssertionError: assert 0 == True
E    +  where 0 = &lt;built-in method get of dict object at 0xfee3ad980e00&gt;('success')
E    +    where &lt;built-in method get of dict object at 0xfee3ad980e00&gt; = {'by_type': {}, 'errors': [{'document_id': '6e170046-46d9-4786-9ccd-f39d90c5d0c6', 'error': 'Tipo documento non supportato: altro', 'filename': 'RicevutaTelematica_302000600008017300.pdf'}, {'document_id': '82010adc-ad83-4644-8655-a6850e156784', 'error': 'Tipo documento non supportato: altro', 'filename': 'RicevutaTelematica_302000600008017401.pdf'}, {'document_id': '1ec9c716-4849-48d1-9ca1-b6a9fa0ded84', 'error': 'Tipo documento non supportato: altro', 'filename': 'SAV2_260124_062039_7273.pdf'}, {'document_id': 'b1e9c0d4-ee06-4032-ac2d-7bfc5475edb9', 'error': 'Tipo documento non supportato: altro', 'filename': 'SAV2_260126_061128_3443.pdf'}, {'document_id': 'b7323319-609a-41ec-961a-9fa0e838d74c', 'error': 'Tipo documento non supportato: altro', 'filename': 'SAV2_260126_063527_5201.pdf'}], 'failed': 5, 'message': 'Processati 5 documenti', ...}.get</failure></testcase><testcase classname="tests.test_giustificativi_xbrl_ai.TestUploadLibroUnico" name="test_upload_libro_unico_no_file" time="0.080" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestUploadLibroUnico" name="test_upload_libro_unico_wrong_format" time="0.040" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestIntegrationEndpoints" name="test_init_giustificativi" time="5.849" /><testcase classname="tests.test_giustificativi_xbrl_ai.TestIntegrationEndpoints" name="test_riepilogo_limiti" time="11.710" /></testsuite></testsuites>